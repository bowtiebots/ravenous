(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{111:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,u,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,a=0;a<s;a++)c[a].apply(this,u);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},1158:function(e,t,n){"use strict";var r,i,o;"function"==typeof Symbol&&Symbol.iterator;i=[],void 0===(o="function"==typeof(r=function(){return function(){var e,t,n,r,i,o,s,u,a,c,f=!1,l=!1,d=!1,h=0,v=new Date,p=null,_=null;function m(e,t){var n,r,i,o=null,s=0,u=function(){s=new Date,o=null,i=e.apply(n,r)};return function(){var a=new Date;s||(s=a);var c=t-(a-s);return n=this,r=arguments,c<=0?(clearTimeout(o),o=null,s=a,i=e.apply(n,r)):o||(o=setTimeout(u,c)),i}}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function g(){clearTimeout(_),l=!0,clearInterval(p)}function w(){(document.hidden||document.webkitHidden)&&g()}function T(){(h+=1)>0&&h%n==0&&e(h)}function b(){d||(f||function(){var e=new Date;f=!0,t(e-v),p=setInterval(T,1e3)}(),l&&(l=!1,clearInterval(p),p=setInterval(T,1e3)),clearTimeout(_),_=setTimeout(g,1e3*r+100))}return t=function(e){a?dataLayer.push({event:"RivetedTiming",eventCategory:"Riveted",timingVar:"First Interaction",timingValue:e}):(o&&window[c](u,"timing","Riveted","First Interaction",e),s&&_gaq.push(["_trackTiming","Riveted","First Interaction",e,null,100]))},e=function(e){a?dataLayer.push({event:"Riveted",eventCategory:"Riveted",eventAction:"Time Spent",eventLabel:e,eventValue:n,eventNonInteraction:i}):(o&&window[c](u,"event","Riveted","Time Spent",e.toString(),n,{nonInteraction:i}),s&&_gaq.push(["_trackEvent","Riveted","Time Spent",e.toString(),n,i]))},{init:function(f){f=f||{},n=parseInt(f.reportInterval,10)||5,r=parseInt(f.idleTimeout,10)||30,c=f.gaGlobal||"ga","function"==typeof window[c]&&(o=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(s=!0),"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(a=!0),u="gaTracker"in f&&"string"==typeof f.gaTracker?f.gaTracker+".send":"send","function"==typeof f.eventHandler&&(e=f.eventHandler),"function"==typeof f.userTimingHandler&&(t=f.userTimingHandler),i=!("nonInteraction"in f)||!1!==f.nonInteraction&&"false"!==f.nonInteraction,y(document,"keydown",b),y(document,"click",b),y(window,"mousemove",m(b,500)),y(window,"scroll",m(b,500)),y(document,"visibilitychange",w),y(document,"webkitvisibilitychange",w)},trigger:b,setIdle:g,on:function(){d=!1},off:function(){g(),d=!0},reset:function(){v=new Date,h=0,f=!1,l=!1,clearInterval(p),clearTimeout(_)}}}()})?r.apply(t,i):r)||(e.exports=o)},1159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1158)),i=n(111);var o=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.EventEmitter),t}());r.default.init({idleTimeout:60,reportInterval:30,userTimingHandler:function(){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.emit.apply(o,["timing"].concat(t))}}(),eventHandler:function(){return function(){o.emit("active")}}()}),o.riveted=r.default,t.default=o,e.exports=t.default},1160:function(e,t){e.exports=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i><![endif]--\x3e",n[0];);return e>4?e:document.documentMode}()},1161:function(e,t,n){var r=n(1160);e.exports=function(e,t){return e.set("X-Requested-With","XMLHttpRequest"),e.set("Expires","-1"),e.set("Cache-Control","no-cache,no-store,must-revalidate,max-age=-1,private"),(r||t)&&function(e){var t=Date.now().toString();void 0!==e._query&&e._query[0]?e._query[0]+="&"+t:e._query=[t]}(e),e}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(66));n(97);var i={isAdmin:function(){return function(){return this._hasRole("admin")}}(),isAdvisor:function(){return function(){return this._hasRole("advisor")||this._hasRole("advisor_candidate")}}(),isCustomerService:function(){return function(){return this._hasRole("customer_service")}}(),isAuthor:function(){return function(){return this._hasRole("author")}}(),_hasRole:function(){return function(e){return(this.get("roles")||[]).indexOf(e)>=0}}(),isAnon:function(){return function(){return!r.default.has("current_user",void 0)}}(),isPro:function(){return function(){return this.get("pro",!1)}}(),id:function(){return function(){return this.get("_id","anon")}}(),authenticationToken:function(){return function(){return this.get("authentication_token","")}}(),getExperiments:function(){return function(){return this.isAnon()?r.default.get("anonymous_user.experiments"):r.default.get("current_user.experiments")}}(),getExperimentGroup:function(){return function(e){return(this.getExperiments()||{})[e]}}(),getCurrentUser:function(){return function(){return r.default.get("current_user")}}(),get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.default.get("current_user."+e,t)}}(),hasGodMode:function(){return function(){return i.isAdmin()||i.isAdvisor()||i.isAuthor()}}(),isSafari:function(){return function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&!(e.indexOf("chrome")>-1)}}()};t.default=i,e.exports=t.default},3786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.interval=function(e,t){var n=(new Date).getTime(),r={};return r.id=requestAnimationFrame(function i(){(new Date).getTime()-n>=t&&(e.call(),n=(new Date).getTime()),r.id=requestAnimationFrame(i)}),r.cancel=function(){cancelAnimationFrame(r.id)},r}},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csrf=function(e){var t=i.default.get("authenticity_token");t&&e.set("X-CSRF-Token",t);return e},t.userAuth=function(e){var t=r.default.get("authentication_token");if(!r.default.isAnon()&&t){var n=new o.default(e.url).addQueryParam("authentication_token",t);e.url=n.toString()}window.CCDATA.current_user&&e.set("X-Auth-Token",window.CCDATA.current_user.authentication_token);return e},t.apiAuth=function(e){var t=r.default.get("authentication_token");!r.default.isAnon()&&t&&(e.set("X-Auth-Token",t),e.set("X-User-Id",r.default.id()));return e};var r=s(n(27)),i=s(n(66)),o=s(n(89));function s(e){return e&&e.__esModule?e:{default:e}}},482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3786),i=c(n(41)),o=n(48),s=c(n(1161)),u=c(n(1159)),a=c(n(63));function c(e){return e&&e.__esModule?e:{default:e}}var f={start:function(){return function(){var e=window.ASSETS_VERSION;if(e){var t=!0;u.default.on("active",function(){t=!0}),(0,r.interval)(function(){t&&i.default.get("/assets_version").use(o.csrf).use(s.default).then(function(n){var r=n.body.value;r.match("assets-v")&&(e!==r&&window.location.assign(window.location.href),t=!1)}).catch(function(){a.default.error("Failed to fetch mandatory assets version")})},6e4)}}}()};t.default=f,e.exports=t.default},97:function(e,t,n){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(n(77)).default.ajaxPrefilter(function(e,t,n){if("undefined"!=typeof CCDATA){if(CCDATA.current_user){var r=CCDATA.current_user.authentication_token,i=e.url.indexOf("?")>0?"&":"?";e.url+=i+"authentication_token="+r}CCDATA.authenticity_token&&!e.crossDomain&&n.setRequestHeader("X-CSRF-Token",CCDATA.authenticity_token)}})}}]);
//# sourceMappingURL=beed5815d413d8bd726b-f280cdc3fcb9bec59276.js.map